# Spotify ETL and Weekly Summary Email
Building an ETL out of Spotify API and a weekly summary email. I built a program that extracts data from my Spotify Account with [Spotipy](https://spotipy.readthedocs.io/en/2.16.1/). Specifically, I am interested in extracting my listening history. I then transform the data using python to clean it up, create unique identifiers and load it into a Postgresql database. The loading piece of the ETL is a Postgesql databse that is on my local machine. From there I utilized SQL to query the data and python to automate a weekly email that gets sent to my email giving a summary of my Spotify listening for that week. I build the metrics in that email around the metrics seen in [Spotify Wrapped] ('https://2020.byspotify.com/').

# Extracting: Spotify API
I extracted data out of the Spotify API using this [endpoint]('https://developer.spotify.com/documentation/web-api/reference/player/get-recently-played/) to get the 50 most recent played tracks. The endpoint also using a paging feature to access tracks listended to before and after the first returned JSON. This is very similar to how the Microsoft Dynamics API works. 

# Transforming: Python and Pandas
I extracted the Spotify data using Python so transforming the data using pandas was a natural progression. There was once extremely necessary step was to create a unique record id for each track that was played. I dont want to pull in the same song that was played at the same time in the database as that would be a duplicate but we would want to have duplicate songs in our database as you can listen to a song more than once.
